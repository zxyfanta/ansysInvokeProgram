# æ¿€å…‰æ¯ä¼¤ä»¿çœŸç³»ç»Ÿç¯å¢ƒæ­å»ºæŒ‡å—

## 1. ç³»ç»Ÿè¦æ±‚

### 1.1 ç¡¬ä»¶è¦æ±‚
```yaml
minimum_requirements:
  cpu: "Intel i5-8400 æˆ– AMD Ryzen 5 2600"
  memory: "16GB DDR4"
  storage: "256GB SSD"
  gpu: "é›†æˆæ˜¾å¡ (å¯é€‰ç‹¬ç«‹æ˜¾å¡ç”¨äºåŠ é€Ÿ)"
  
recommended_requirements:
  cpu: "Intel i7-12700K æˆ– AMD Ryzen 7 5800X"
  memory: "32GB DDR4"
  storage: "1TB NVMe SSD"
  gpu: "NVIDIA RTX 3070 æˆ–æ›´é«˜"
  network: "åƒå…†ä»¥å¤ªç½‘"
```

### 1.2 æ“ä½œç³»ç»Ÿæ”¯æŒ
- **Windows**: Windows 10/11 (64ä½) - æ¨è
- **Linux**: RHEL 8+, CentOS 8+, Ubuntu 20.04+ (64ä½)
- **æ³¨æ„**: ANSYS 2021 R1 å¯¹æ“ä½œç³»ç»Ÿç‰ˆæœ¬æœ‰ä¸¥æ ¼è¦æ±‚

## 2. ANSYS 2021 R1 å®‰è£…é…ç½®

### 2.1 å®‰è£…å‰å‡†å¤‡

#### 2.1.1 Windowsç¯å¢ƒ
```powershell
# æ£€æŸ¥ç³»ç»Ÿç‰ˆæœ¬
systeminfo | findstr /B /C:"OS Name" /C:"OS Version"

# æ£€æŸ¥å¯ç”¨å†…å­˜
wmic computersystem get TotalPhysicalMemory

# æ£€æŸ¥ç£ç›˜ç©ºé—´
wmic logicaldisk get size,freespace,caption

# å…³é—­Windows Defenderå®æ—¶ä¿æŠ¤ï¼ˆå®‰è£…æœŸé—´ï¼‰
Set-MpPreference -DisableRealtimeMonitoring $true
```

#### 2.1.2 Linuxç¯å¢ƒ
```bash
# æ£€æŸ¥ç³»ç»Ÿä¿¡æ¯
cat /etc/os-release
free -h
df -h

# å®‰è£…å¿…è¦çš„ç³»ç»ŸåŒ… (CentOS/RHEL)
sudo yum groupinstall "Development Tools"
sudo yum install gcc gcc-c++ gcc-gfortran
sudo yum install libXt libXext libXrender libXtst
sudo yum install mesa-libGL mesa-libGLU

# Ubuntu/Debian
sudo apt update
sudo apt install build-essential gfortran
sudo apt install libxt6 libxext6 libxrender1 libxtst6
sudo apt install libgl1-mesa-glx libglu1-mesa
```

### 2.2 ANSYSå®‰è£…æ­¥éª¤

#### 2.2.1 è·å–å®‰è£…æ–‡ä»¶
```bash
# ä»ANSYSå®˜æ–¹ä¸‹è½½æˆ–ä¼ä¸šå†…éƒ¨æœåŠ¡å™¨è·å–
# æ–‡ä»¶ç»“æ„ç¤ºä¾‹:
ANSYS2021R1_WINX64/
â”œâ”€â”€ setup.exe                    # Windowså®‰è£…ç¨‹åº
â”œâ”€â”€ INSTALL                      # Linuxå®‰è£…è„šæœ¬
â”œâ”€â”€ ansys_inc/
â”‚   â”œâ”€â”€ v211/
â”‚   â””â”€â”€ shared_files/
â””â”€â”€ license/
    â””â”€â”€ ansyslmd.lic            # è®¸å¯è¯æ–‡ä»¶
```

#### 2.2.2 Windowså®‰è£…
```powershell
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒPowerShell
# æŒ‚è½½ISOæˆ–è§£å‹å®‰è£…åŒ…
cd "D:\ANSYS2021R1_WINX64"

# é™é»˜å®‰è£… (å¯é€‰)
.\setup.exe -silent -install_dir "C:\Program Files\ANSYS Inc" -licserverinfo "1055@license-server.company.com"

# æˆ–ä½¿ç”¨å›¾å½¢ç•Œé¢å®‰è£…
.\setup.exe
```

#### 2.2.3 Linuxå®‰è£…
```bash
# è§£å‹å®‰è£…åŒ…
tar -xzf ANSYS2021R1_LINX64.tar.gz
cd ANSYS2021R1_LINX64

# è®¾ç½®å®‰è£…æƒé™
chmod +x INSTALL

# é™é»˜å®‰è£…
sudo ./INSTALL -silent -install_dir /opt/ansys_inc -licserverinfo 1055@license-server.company.com

# æˆ–äº¤äº’å¼å®‰è£…
sudo ./INSTALL
```

### 2.3 è®¸å¯è¯é…ç½®

#### 2.3.1 è®¸å¯è¯æœåŠ¡å™¨é…ç½®
```bash
# ç¼–è¾‘è®¸å¯è¯æ–‡ä»¶
sudo nano /opt/ansys_inc/shared_files/licensing/ansyslmd.lic

# è®¸å¯è¯æ–‡ä»¶å†…å®¹ç¤ºä¾‹
SERVER license-server.company.com 001122334455 1055
DAEMON ansyslmd /opt/ansys_inc/shared_files/licensing/linx64/ansyslmd
USE_SERVER

# å¯åŠ¨è®¸å¯è¯æœåŠ¡
sudo /opt/ansys_inc/shared_files/licensing/linx64/lmgrd -c /opt/ansys_inc/shared_files/licensing/ansyslmd.lic

# æ£€æŸ¥è®¸å¯è¯çŠ¶æ€
/opt/ansys_inc/shared_files/licensing/linx64/lmstat -a -c /opt/ansys_inc/shared_files/licensing/ansyslmd.lic
```

#### 2.3.2 ç¯å¢ƒå˜é‡è®¾ç½®
```bash
# Linuxç¯å¢ƒå˜é‡ (~/.bashrc)
export ANSYS_ROOT="/opt/ansys_inc/v211"
export PATH="$ANSYS_ROOT/ansys/bin:$PATH"
export ANSYSLMD_LICENSE_FILE="1055@license-server.company.com"

# Windowsç¯å¢ƒå˜é‡
setx ANSYS_ROOT "C:\Program Files\ANSYS Inc\v211"
setx PATH "%PATH%;%ANSYS_ROOT%\ansys\bin"
setx ANSYSLMD_LICENSE_FILE "1055@license-server.company.com"
```

## 3. Pythonå¼€å‘ç¯å¢ƒé…ç½®

### 3.1 Pythonç‰ˆæœ¬ç®¡ç†

#### 3.1.1 ä½¿ç”¨Conda (æ¨è)
```bash
# ä¸‹è½½å¹¶å®‰è£…Miniconda
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
bash Miniconda3-latest-Linux-x86_64.sh

# åˆ›å»ºä¸“ç”¨ç¯å¢ƒ
conda create -n laser_simulation python=3.8
conda activate laser_simulation

# éªŒè¯Pythonç‰ˆæœ¬
python --version  # åº”æ˜¾ç¤º Python 3.8.x
```

#### 3.1.2 ä½¿ç”¨pyenv (Linux/macOS)
```bash
# å®‰è£…pyenv
curl https://pyenv.run | bash

# å®‰è£…Python 3.8
pyenv install 3.8.10
pyenv local 3.8.10

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv laser_simulation_env
source laser_simulation_env/bin/activate
```

### 3.2 æ ¸å¿ƒä¾èµ–åº“å®‰è£…

#### 3.2.1 åˆ›å»ºrequirements.txt
```python
# requirements.txt
# ANSYSé›†æˆ
ansys-mapdl-core==0.65.0
ansys-fluent-core==0.15.0
pyansys==0.61.0

# æ•°å€¼è®¡ç®—
numpy==1.21.6
scipy==1.7.3
pandas==1.3.5

# å¯è§†åŒ–
matplotlib==3.5.3
pyvista==0.37.0
vtk==9.2.2

# GUIå¼€å‘
PyQt5==5.15.7
# æˆ–è€…ä½¿ç”¨ PySide2==5.15.8

# æ•°æ®å¤„ç†
h5py==3.7.0
netCDF4==1.6.1

# æŠ¥å‘Šç”Ÿæˆ
reportlab==3.6.12
jinja2==3.1.2
openpyxl==3.0.10

# æ•°æ®åº“
sqlalchemy==1.4.44
sqlite3  # Pythonå†…ç½®

# æµ‹è¯•æ¡†æ¶
pytest==7.2.0
pytest-cov==4.0.0
pytest-mock==3.10.0

# å¼€å‘å·¥å…·
black==22.10.0
flake8==5.0.4
mypy==0.991
```

#### 3.2.2 å®‰è£…ä¾èµ–
```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
conda activate laser_simulation
# æˆ– source laser_simulation_env/bin/activate

# å‡çº§pip
pip install --upgrade pip

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# éªŒè¯å…³é”®åº“å®‰è£…
python -c "import numpy; print('NumPy:', numpy.__version__)"
python -c "import ansys.mapdl.core; print('PyMAPDL installed successfully')"
```

### 3.3 ANSYS Pythoné›†æˆæµ‹è¯•

#### 3.3.1 åˆ›å»ºæµ‹è¯•è„šæœ¬
```python
# test_ansys_integration.py
import os
import sys
from ansys.mapdl.core import launch_mapdl

def test_ansys_connection():
    """æµ‹è¯•ANSYSè¿æ¥"""
    try:
        # å¯åŠ¨MAPDL
        mapdl = launch_mapdl(
            exec_file=os.path.join(os.environ['ANSYS_ROOT'], 'ansys', 'bin', 'ansys211'),
            run_location='./ansys_working',
            cleanup_on_exit=True
        )
        
        print(f"ANSYSç‰ˆæœ¬: {mapdl.version}")
        print(f"å·¥ä½œç›®å½•: {mapdl.directory}")
        
        # ç®€å•æµ‹è¯•
        mapdl.prep7()
        mapdl.et(1, 'SOLID186')
        mapdl.block(0, 1, 0, 1, 0, 1)
        mapdl.esize(0.2)
        mapdl.vmesh('ALL')
        
        print(f"èŠ‚ç‚¹æ•°: {mapdl.mesh.n_node}")
        print(f"å•å…ƒæ•°: {mapdl.mesh.n_elem}")
        
        # æ¸…ç†å¹¶é€€å‡º
        mapdl.exit()
        print("ANSYSé›†æˆæµ‹è¯•æˆåŠŸ!")
        return True
        
    except Exception as e:
        print(f"ANSYSé›†æˆæµ‹è¯•å¤±è´¥: {e}")
        return False

if __name__ == "__main__":
    success = test_ansys_connection()
    sys.exit(0 if success else 1)
```

#### 3.3.2 è¿è¡Œé›†æˆæµ‹è¯•
```bash
# ç¡®ä¿ANSYSç¯å¢ƒå˜é‡å·²è®¾ç½®
echo $ANSYS_ROOT
echo $ANSYSLMD_LICENSE_FILE

# è¿è¡Œæµ‹è¯•
python test_ansys_integration.py
```

## 4. å¼€å‘å·¥å…·é…ç½®

### 4.1 IDEé…ç½® (VS Codeæ¨è)

#### 4.1.1 å®‰è£…VS Codeæ‰©å±•
```json
{
    "recommendations": [
        "ms-python.python",
        "ms-python.flake8",
        "ms-python.black-formatter",
        "ms-python.mypy-type-checker",
        "ms-toolsai.jupyter",
        "ms-vscode.cmake-tools",
        "redhat.vscode-yaml"
    ]
}
```

#### 4.1.2 VS Codeé…ç½®æ–‡ä»¶
```json
// .vscode/settings.json
{
    "python.defaultInterpreterPath": "./laser_simulation_env/bin/python",
    "python.linting.enabled": true,
    "python.linting.flake8Enabled": true,
    "python.formatting.provider": "black",
    "python.testing.pytestEnabled": true,
    "python.testing.unittestEnabled": false,
    "files.associations": {
        "*.apdl": "fortran",
        "*.mac": "fortran"
    }
}
```

### 4.2 Gité…ç½®

#### 4.2.1 åˆå§‹åŒ–ä»“åº“
```bash
# åˆå§‹åŒ–Gitä»“åº“
git init
git config user.name "Your Name"
git config user.email "your.email@company.com"

# åˆ›å»º.gitignore
cat > .gitignore << EOF
# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
env/
venv/
ENV/

# ANSYS
*.rst
*.rth
*.rmg
*.rfl
*.esav
*.full
*.db
*.log
*.err
*.out
ansys_working/

# IDE
.vscode/
.idea/
*.swp
*.swo

# OS
.DS_Store
Thumbs.db

# Data
data/results/
data/temp/
*.h5
*.nc
EOF
```

## 5. éªŒè¯å®‰è£…

### 5.1 å®Œæ•´ç¯å¢ƒéªŒè¯è„šæœ¬
```python
# verify_environment.py
import sys
import os
import subprocess
from pathlib import Path

def check_python_version():
    """æ£€æŸ¥Pythonç‰ˆæœ¬"""
    version = sys.version_info
    if version.major == 3 and version.minor >= 8:
        print(f"âœ“ Pythonç‰ˆæœ¬: {version.major}.{version.minor}.{version.micro}")
        return True
    else:
        print(f"âœ— Pythonç‰ˆæœ¬ä¸ç¬¦åˆè¦æ±‚: {version.major}.{version.minor}.{version.micro}")
        return False

def check_ansys_installation():
    """æ£€æŸ¥ANSYSå®‰è£…"""
    ansys_root = os.environ.get('ANSYS_ROOT')
    if not ansys_root:
        print("âœ— ANSYS_ROOTç¯å¢ƒå˜é‡æœªè®¾ç½®")
        return False
    
    ansys_path = Path(ansys_root)
    if not ansys_path.exists():
        print(f"âœ— ANSYSå®‰è£…è·¯å¾„ä¸å­˜åœ¨: {ansys_root}")
        return False
    
    print(f"âœ“ ANSYSå®‰è£…è·¯å¾„: {ansys_root}")
    return True

def check_python_packages():
    """æ£€æŸ¥PythonåŒ…"""
    required_packages = [
        'numpy', 'scipy', 'pandas', 'matplotlib',
        'ansys.mapdl.core', 'pyvista', 'PyQt5'
    ]
    
    missing_packages = []
    for package in required_packages:
        try:
            __import__(package)
            print(f"âœ“ {package}")
        except ImportError:
            print(f"âœ— {package}")
            missing_packages.append(package)
    
    return len(missing_packages) == 0

def check_license():
    """æ£€æŸ¥ANSYSè®¸å¯è¯"""
    license_server = os.environ.get('ANSYSLMD_LICENSE_FILE')
    if not license_server:
        print("âœ— ANSYSLMD_LICENSE_FILEç¯å¢ƒå˜é‡æœªè®¾ç½®")
        return False
    
    print(f"âœ“ è®¸å¯è¯æœåŠ¡å™¨: {license_server}")
    return True

if __name__ == "__main__":
    print("=== ç¯å¢ƒéªŒè¯å¼€å§‹ ===")
    
    checks = [
        check_python_version(),
        check_ansys_installation(),
        check_python_packages(),
        check_license()
    ]
    
    if all(checks):
        print("\nğŸ‰ ç¯å¢ƒé…ç½®éªŒè¯æˆåŠŸï¼å¯ä»¥å¼€å§‹å¼€å‘å·¥ä½œã€‚")
    else:
        print("\nâŒ ç¯å¢ƒé…ç½®å­˜åœ¨é—®é¢˜ï¼Œè¯·æ£€æŸ¥ä¸Šè¿°é”™è¯¯é¡¹ã€‚")
        sys.exit(1)
```

è¿è¡ŒéªŒè¯ï¼š
```bash
python verify_environment.py
```

---

**ç¯å¢ƒæ­å»ºå®Œæˆåï¼Œæ‚¨å°±å¯ä»¥å¼€å§‹æ¿€å…‰æ¯ä¼¤ä»¿çœŸç³»ç»Ÿçš„å¼€å‘å·¥ä½œäº†ï¼**
